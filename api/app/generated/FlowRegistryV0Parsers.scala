/**
 * Generated by apidoc - http://www.apidoc.me
 * Service version: 0.0.1
 * apidoc:0.11.6 http://www.apidoc.me/flow/registry/0.0.1/anorm_2_x_parsers
 */
import anorm._

package io.flow.registry.v0.anorm.parsers {

  import io.flow.registry.v0.anorm.conversions.Json._

  object Application {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id",
      ports = s"$prefix${sep}ports"
    )

    def parser(
      id: String = "id",
      ports: String = "ports"
    ): RowParser[io.flow.registry.v0.models.Application] = {
      SqlParser.str(id) ~
      SqlParser.get[Seq[io.flow.registry.v0.models.Port]](ports) map {
        case id ~ ports => {
          io.flow.registry.v0.models.Application(
            id = id,
            ports = ports
          )
        }
      }
    }

  }

  object ApplicationForm {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id",
      service = s"$prefix${sep}service",
      port = s"$prefix${sep}port"
    )

    def parser(
      id: String = "id",
      service: String = "service",
      port: String = "port"
    ): RowParser[io.flow.registry.v0.models.ApplicationForm] = {
      SqlParser.str(id) ~
      SqlParser.str(service) ~
      SqlParser.long(port).? map {
        case id ~ service ~ port => {
          io.flow.registry.v0.models.ApplicationForm(
            id = id,
            service = service,
            port = port
          )
        }
      }
    }

  }

  object ApplicationPutForm {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      service = s"$prefix${sep}service",
      port = s"$prefix${sep}port"
    )

    def parser(
      service: String = "service",
      port: String = "port"
    ): RowParser[io.flow.registry.v0.models.ApplicationPutForm] = {
      SqlParser.str(service) ~
      SqlParser.long(port).? map {
        case service ~ port => {
          io.flow.registry.v0.models.ApplicationPutForm(
            service = service,
            port = port
          )
        }
      }
    }

  }

  object ApplicationVersion {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id",
      timestamp = s"$prefix${sep}timestamp",
      `type` = s"$prefix${sep}type",
      applicationPrefix = s"$prefix${sep}application"
    )

    def parser(
      id: String = "id",
      timestamp: String = "timestamp",
      `type`: String = "type",
      applicationPrefix: String = "application"
    ): RowParser[io.flow.registry.v0.models.ApplicationVersion] = {
      SqlParser.str(id) ~
      SqlParser.get[_root_.org.joda.time.DateTime](timestamp) ~
      io.flow.common.v0.anorm.parsers.ChangeType.parser(`type`) ~
      io.flow.registry.v0.anorm.parsers.Application.parserWithPrefix(applicationPrefix) map {
        case id ~ timestamp ~ typeInstance ~ application => {
          io.flow.registry.v0.models.ApplicationVersion(
            id = id,
            timestamp = timestamp,
            `type` = typeInstance,
            application = application
          )
        }
      }
    }

  }

  object Port {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      servicePrefix = s"$prefix${sep}service",
      internal = s"$prefix${sep}internal",
      external = s"$prefix${sep}external"
    )

    def parser(
      servicePrefix: String = "service",
      internal: String = "internal",
      external: String = "external"
    ): RowParser[io.flow.registry.v0.models.Port] = {
      io.flow.registry.v0.anorm.parsers.ServiceReference.parserWithPrefix(servicePrefix) ~
      SqlParser.long(internal) ~
      SqlParser.long(external) map {
        case service ~ internal ~ external => {
          io.flow.registry.v0.models.Port(
            service = service,
            internal = internal,
            external = external
          )
        }
      }
    }

  }

  object Service {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id",
      defaultPort = s"$prefix${sep}default_port"
    )

    def parser(
      id: String = "id",
      defaultPort: String = "default_port"
    ): RowParser[io.flow.registry.v0.models.Service] = {
      SqlParser.str(id) ~
      SqlParser.long(defaultPort) map {
        case id ~ defaultPort => {
          io.flow.registry.v0.models.Service(
            id = id,
            defaultPort = defaultPort
          )
        }
      }
    }

  }

  object ServiceForm {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id",
      defaultPort = s"$prefix${sep}default_port"
    )

    def parser(
      id: String = "id",
      defaultPort: String = "default_port"
    ): RowParser[io.flow.registry.v0.models.ServiceForm] = {
      SqlParser.str(id) ~
      SqlParser.long(defaultPort) map {
        case id ~ defaultPort => {
          io.flow.registry.v0.models.ServiceForm(
            id = id,
            defaultPort = defaultPort
          )
        }
      }
    }

  }

  object ServicePutForm {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      defaultPort = s"$prefix${sep}default_port"
    )

    def parser(
      defaultPort: String = "default_port"
    ): RowParser[io.flow.registry.v0.models.ServicePutForm] = {
      SqlParser.long(defaultPort) map {
        case defaultPort => {
          io.flow.registry.v0.models.ServicePutForm(
            defaultPort = defaultPort
          )
        }
      }
    }

  }

  object ServiceReference {

    def parserWithPrefix(prefix: String, sep: String = "_") = parser(
      id = s"$prefix${sep}id"
    )

    def parser(
      id: String = "id"
    ): RowParser[io.flow.registry.v0.models.ServiceReference] = {
      SqlParser.str(id) map {
        case id => {
          io.flow.registry.v0.models.ServiceReference(
            id = id
          )
        }
      }
    }

  }

}